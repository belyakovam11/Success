from celery import shared_task
from django.core.mail import send_mail
from django.conf import settings

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∑–∞–¥–∞—á—É Celery –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–∏—Å—å–º–∞ –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
@shared_task
def send_registration_email(user_email):
    subject = "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ¬´–í–∏–∫—Ç–æ—Ä–∏–Ω—É¬ª!"
    message = """–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π, –∏–≥—Ä–æ–∫!
    –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ –Ω–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ¬´–í–∏–∫—Ç–æ—Ä–∏–Ω–∞¬ª. –ú—ã —Ä–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å –≤ –Ω–∞—à–µ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ –ª—é–±–∏—Ç–µ–ª–µ–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∏–≥—Ä! üéâ
    –í –Ω–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å:
    ‚Ä¢	–°–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ –∫–æ–º–Ω–∞—Ç—ã –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Ç–µ–º–∞—Ç–∏–∫–∏, –æ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –¥–æ —Å–ø–æ—Ä—Ç–∞. –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å –¥—Ä—É–∑–µ–π –∏ –±—Ä–æ—Å–∞—Ç—å –≤—ã–∑–æ–≤ –¥—Ä—É–≥–∏–º –∏–≥—Ä–æ–∫–∞–º.
    ‚Ä¢	–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è—Ç—å—Å—è –∫ —É–∂–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–º –∫–æ–º–Ω–∞—Ç–∞–º, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –∏ –ø–æ–æ–±—â–∞—Ç—å—Å—è —Å –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞–º–∏.
    –ö–∞–∂–¥–∞—è –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞ ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –∏—Å–ø—ã—Ç–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞, –Ω–æ –∏ –æ—Ç–ª–∏—á–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–µ—Å–µ–ª–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤—Ä–µ–º—è!
    –ú—ã –∂–µ–ª–∞–µ–º –≤–∞–º —É—Å–ø–µ—Ö–æ–≤ –∏ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã—Ö –ø–æ–±–µ–¥. –ü—É—Å—Ç—å –≤–∞—à–∏ –∑–Ω–∞–Ω–∏—è –∏ –∏–Ω—Ç—É–∏—Ü–∏—è –ø—Ä–∏–≤–æ–¥—è—Ç –≤–∞—Å –∫ –≤–µ—Ä—à–∏–Ω–∞–º –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞! üèÜ
    –ß—Ç–æ–±—ã –±—ã—Ç—å –≤ –∫—É—Ä—Å–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π, –ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ –Ω–∞—à –¢–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª: https://t.me/success_victorina
    –° –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º –∂–¥–µ–º –≤–∞—à–∏—Ö —É—Å–ø–µ—Ö–æ–≤!
    –ö–æ–º–∞–Ω–¥–∞ ¬´–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ Success¬ª
    """
    email_from = settings.EMAIL_HOST_USER # –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è, –∑–∞–¥–∞–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Django
    recipient_list = [user_email] # –°–ø–∏—Å–æ–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –ø–∏—Å—å–º–∞ (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∞–¥—Ä–µ—Å)
    send_mail(subject, message, email_from, recipient_list) # –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å—å–º–∞. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç email —Å –∑–∞–¥–∞–Ω–Ω–æ–π —Ç–µ–º–æ–π, —Ç–µ–∫—Å—Ç–æ–º –∏ –∞–¥—Ä–µ—Å–∞–º–∏.
